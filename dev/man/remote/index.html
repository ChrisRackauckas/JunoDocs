<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Connecting to a Julia session on a remote machine · Juno Documentation</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="../../"><img class="logo" src="../../assets/logo.svg" alt="Juno Documentation logo"/></a><h1>Juno Documentation</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../">Home</a></li><li><span class="toctext">Manual</span><ul><li><a class="toctext" href="../installation/">Installation Instructions</a></li><li><a class="toctext" href="../basic_usage/">Basic Usage</a></li><li><a class="toctext" href="../debugging/">Debugging</a></li><li><a class="toctext" href="../faq/">FAQ</a></li><li class="current"><a class="toctext" href>Connecting to a Julia session on a remote machine</a><ul class="internal"><li><a class="toctext" href="#Setup-1">Setup</a></li><li><a class="toctext" href="#Advanced-usage-1">Advanced usage</a></li></ul></li><li><a class="toctext" href="../juno_frontend/">The Juno.jl Front-End</a></li><li><a class="toctext" href="../info_developer/">Information for Package Developers</a></li></ul></li><li><span class="toctext">Developer Documentation</span><ul><li><a class="toctext" href="../../devdocs/contributor_guide/">Contributor Guide</a></li><li><a class="toctext" href="../../devdocs/dev_install/">Developer Installation Instructions</a></li><li><a class="toctext" href="../../devdocs/package_info/">Juno Package Information</a></li><li><a class="toctext" href="../../devdocs/juno_ci/">Juno&#39;s CI</a></li><li><a class="toctext" href="../../devdocs/communication/">Communication</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Manual</li><li><a href>Connecting to a Julia session on a remote machine</a></li></ul><a class="edit-page" href="https://github.com/JunoLab/JunoDocs.jl/blob/master/docs/src/man/remote.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Connecting to a Julia session on a remote machine</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Connecting-to-a-Julia-session-on-a-remote-machine-1" href="#Connecting-to-a-Julia-session-on-a-remote-machine-1">Connecting to a Julia session on a remote machine</a></h1><p>Juno can be used for editing and executing code on a remote machine (which might be very useful for computationally expensive tasks or when you want to use hardware not available locally, e.g. GPUs).</p><h3><a class="nav-anchor" id="Prerequisites-1" href="#Prerequisites-1">Prerequisites</a></h3><p>The remote machine must have Julia installed and you need to be able to open a ssh connection to it. On your local machine you need a working Juno installation as well as <a href="https://github.com/h3imdall/ftp-remote-edit"><code>ftp-remote-edit</code></a> for editing remote files.</p><h2><a class="nav-anchor" id="Setup-1" href="#Setup-1">Setup</a></h2><p>Add a new server in <code>ftp-remote-edit</code>&#39;s server browser with the <code>Ftp Remote Edit: Edit Servers</code> command:</p><p><img src="../../assets/remote3.5.png" alt/></p><p>Select that server in the &quot;Remote&quot; tree view and click the planet icon in the toolbar to start a Julia session on the selected remote machine. If you want to start a remote session by default then you can change the <code>Boot Mode</code> to <code>Remote</code> in the julia-client settings.</p><p><img src="../../assets/remote4.png" alt/></p><p>If you have <code>tmux</code> installed on the server then you can also use a persistent session, which you can connect to and disconnect from at will without losing progress. To use this feature enable the <code>Use persistent tmux session</code> option in the julia-client settings. Note that using <code>tmux</code> changes the behavior of the console, affecting scrolling and copy/paste. See <a href="https://man.openbsd.org/OpenBSD-current/man1/tmux.1#DEFAULT_KEY_BINDINGS">the manual page</a> for more information.</p><h5><a class="nav-anchor" id="Note-1" href="#Note-1">Note</a></h5><p>With older <code>tmux</code> versions like 1.8-4 (which is currently the latest in distributions like CentOS) the buffer used when creating a session has a <a href="https://github.com/tmux/tmux/issues/254">2028 character limit</a> and Juno might not be able to start. If this happens you will receive the <code>command too long</code> error in the REPL console.</p><p>You can manually start <code>tmux</code> on the server with</p><pre><code class="language-bash">tmux new -s juno_tmux_session</code></pre><p>then start Julia inside the session and</p><pre><code class="language-julia">using Juno, Atom</code></pre><p>and then detach.</p><p>After this step Juno should be able to connect to the remote session.</p><h2><a class="nav-anchor" id="Advanced-usage-1" href="#Advanced-usage-1">Advanced usage</a></h2><p>If you have a more elaborate setup on the remote server, you can take control of the various stages of launching a remote Julia session.</p><h3><a class="nav-anchor" id="Customizing-the-command-to-launch-Julia-1" href="#Customizing-the-command-to-launch-Julia-1">Customizing the command to launch Julia</a></h3><p>The command to launch Julia can be replaced with a custom script that finishes with launching Julia. This can be useful if you don&#39;t have Julia installed directly on the server, but inside a container, or if you need some job scheduling script to start Julia. For this task put the path to your custom script as the command to execute Julia on the remote server</p><p><img src="../../assets/remote5.png" alt/></p><p>where <code>julia.sh</code> can be something like</p><pre><code class="language-bash"># do setup
/usr/bin/julia &quot;$@&quot;</code></pre><p>The important part is to use <code>&quot;$@&quot;</code> in order to pass the arguments to Julia required to start Juno and of course to guarantee that at the end of the script a Julia session will be opened. For example, to launch Julia in a singularity container on the remote, something like the following can be used</p><pre><code class="language-bash">export JULIA_NUM_THREADS=&quot;$(( `nproc` / 2 ))&quot;
singularity exec /path/to/singularity/image/julia.sif /usr/local/julia/bin/julia -O 3 &quot;$@&quot;</code></pre><h3><a class="nav-anchor" id="Manual-port-forwarding-1" href="#Manual-port-forwarding-1">Manual port forwarding</a></h3><p>Internally Juno uses a <a href="https://github.com/mscdex/ssh2">ssh nodejs library</a> to establish the connection with the remote server. You can manually connect to the remote server and use port forwarding to connect Juno to the remote session. This can be useful if you need more control over the connection layer.</p><h4><a class="nav-anchor" id="Setup-2" href="#Setup-2">Setup</a></h4><h5><a class="nav-anchor" id="On-the-local-machine:-1" href="#On-the-local-machine:-1">On the local machine:</a></h5><p>Open a new terminal in Juno with <code>Julia Client: New Terminal</code> and execute the <code>Julia Client: Connect External Process</code> command in Juno:</p><p><img src="../../assets/remote1.png" alt/></p><p>In the terminal you&#39;ll need to <code>ssh</code> into the remote machine with port forwarding. This can be done with the following command</p><pre><code class="language-none">ssh -R &lt;RemotePort&gt;:localhost:&lt;JunoPort&gt; you@yourserver</code></pre><p>where <code>&lt;RemotePort&gt;</code> is a port you can choose freely and <code>&lt;JunoPort&gt;</code> is the port given by the <code>Connect External Process</code> command. The <code>&lt;JunoPort&gt;</code> can also be customized in the settings.</p><p>Note: If you are on Windows, you should use <code>127.0.0.1</code> instead of <code>localhost</code>.</p><p>For servers that listen on a non-standard <code>ssh</code> port you&#39;ll also need to add the correct <code>-p</code> flag; I&#39;d also recommend using an identity file with the <code>-i</code> option.</p><p><img src="../../assets/remote2.png" alt/></p><h5><a class="nav-anchor" id="On-the-remote-machine:-1" href="#On-the-remote-machine:-1">On the remote machine:</a></h5><p>After you&#39;re successfully logged into the server you need to start Julia, potentially <code>pkg&gt; add Atom Juno</code>, and execute</p><pre><code class="language-none">using Atom; using Juno; Juno.connect(&lt;RemotePort&gt;)</code></pre><p>You should get a message telling you that Juno successfully connected to an external process; after that basically all of Juno&#39;s features should work fine:</p><p><img src="../../assets/remote3.png" alt/></p><h4><a class="nav-anchor" id="Possible-use-cases-1" href="#Possible-use-cases-1">Possible use cases</a></h4><p>Besides having more control regarding how Julia is launched, this can be useful if you need more control regarding remote sessions. For example instead of using the <code>tmux</code> integration, you can manually use other applications like <code>screen</code>. For example, you could resume a <code>screen</code> session before launching Julia on the remote, and thus when you connect to it, you will be able to continue your work from Juno.</p><p>Another example would be needing to restart Julia without reestablishing the ssh connection.</p><footer><hr/><a class="previous" href="../faq/"><span class="direction">Previous</span><span class="title">FAQ</span></a><a class="next" href="../juno_frontend/"><span class="direction">Next</span><span class="title">The Juno.jl Front-End</span></a></footer></article></body></html>
